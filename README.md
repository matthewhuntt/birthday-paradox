# birthday-paradox
A simple command line script to simulate the Birthday Paradox and demonstrate the effects of changing parameters


## Background

On the first day in my introductory probability and statistics course, my professor asked the class to estimate the probability that, if we compared the birthdays of every student present, we would find at least one match. It was a class of around 60 students, so most of us guessed somewhere in the 20-50% range. The professor proceeded to ask for every single student's birthday - and we found not one match, but several. He then asked a follow-up question: "how many students would have to be in the class in order to give us a 50% chance of finding a match?" 

Many people will recognize this as the "Birthday Paradox", which preys on our inability to accurately assess the way that combinations scale. When asked the second question above, it is not uncommon to receive an answer of around 180 - after all, there are around 360 days in a year, and if we have 180, that should give us a 50% shot at a match. Of course, this reasoning disregards that we should be counting pairs, not individuals. In our group of 60 students, there were 3,540 pairs, giving us a probability of over 99% of finding at least one match. To add insult to injury, our professor told us that the magic number - the number of people needed such that the chance of finding a match is at least 50% - is only _23_. It surprised a bunch of industrial enginerring students, and it surprises most others as well.

## Methodology

For each trial:
1. Generate a list of "people" of length n, each with a randomly selected birthday
2. Compare each person's birthday to each other person's
3. Count the number of matches

## Reasoning

This program was created in order to show people this unintitive truth and to help friends and family wrap their heads around combinations, as well as basic simulation. There is certainly no shortage of closed form solutions and approximations to show the probabilities for any choice of n, but I find the simulation provides an intuitive approach that is easy for newcomers to interpret - instead of getting into combinations, just fill a room with people and see how many matches we find.

## Usage

The program can be used in 2 ways:

1. Run k trials for a single group size parameter n

This code runs 10000 trials for group size 60

`$ python BirthdayParadox.py 10000 60`

The results are provided in terms of the trials with a match, the percentage of trials with a match (probability), and the average number of matches per trial
```
Results: 
9929 trials with matches in 10000 trials.
0.9929% probability of at least one match with 60 people.
Expected number of matches per trial: 9.6448.
```

2. Run k trials for values of n between a min value and max value, with a step size parameter

This code runs 10000 trials for group sizes between 10 and 40 with step size 1

`$ python BirthdayParadox.py 10000 10 40`

The result is shown in 2 charts - the first shows the realtionship between group size and the expected number of matches; the second shows the relationship between group size and probability of getting at least one match. 

```
Expected Number of Matches:

 10|XXXXXX 0.2486
 11|XXXXXXX 0.2968
 12|XXXXXXXX 0.3542
 13|XXXXXXXXXX 0.4456
 14|XXXXXXXXXXXX 0.5142
 15|XXXXXXXXXXXXXX 0.5886
 16|XXXXXXXXXXXXXXX 0.6412
 17|XXXXXXXXXXXXXXXXXX 0.7332
 18|XXXXXXXXXXXXXXXXXXXX 0.8192
 19|XXXXXXXXXXXXXXXXXXXXXXX 0.948
 20|XXXXXXXXXXXXXXXXXXXXXXXXX 1.0284
 21|XXXXXXXXXXXXXXXXXXXXXXXXXXXX 1.1708
 22|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 1.2738
 23|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 1.3802
 24|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 1.5154
 25|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 1.6622
 26|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 1.7628
 27|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 1.915
 28|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 2.0786
 29|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 2.2408
 30|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 2.3818
 31|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 2.5136
 32|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 2.7708
 33|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 2.8612
 34|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 3.1034
 35|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 3.2492
 36|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 3.4436
 37|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 3.6188
 38|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 3.8608
 39|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 4.053
```

```
Probability of Getting as Least One Match:

 10|XXXXXXXXXXXXX 0.1167
 11|XXXXXXXXXXXXXXX 0.1394
 12|XXXXXXXXXXXXXXXXXX 0.1656
 13|XXXXXXXXXXXXXXXXXXXXXX 0.2018
 14|XXXXXXXXXXXXXXXXXXXXXXXXXX 0.2303
 15|XXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.2597
 16|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.2795
 17|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.3105
 18|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.3372
 19|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.3816
 20|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.408
 21|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.4481
 22|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.4786
 23|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.5073
 24|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.542
 25|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.5685
 26|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.5905
 27|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.6275
 28|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.6538
 29|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.6847
 30|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.7126
 31|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.7268
 32|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.7635
 33|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.7675
 34|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.7946
 35|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.8096
 36|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.8288
 37|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.8476
 38|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.8652
 39|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.8802
 ```


It is also interesting to manipulate the trials parameter k. In the above simulations, we use a value of 10,000, which is sufficiently large to get very close to the true result for each value of the group size parameter. If we try the model with smaller values of k, say 10, we can see a lot more randomness in the final result.

`$ python BirthdayParadox.py 10 10 20`

```
Expected Number of Matches:

 10| 0.0
 11| 0.0
 12|XXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.4
 13|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.8
 14|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 1.0
 15|XXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.4
 16|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 1.4
 17|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 1.4
 18|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.8
 19|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 1.0
 ```
 
 ```
 Probability of Getting as Least One Match:

 10| 0.0
 11| 0.0
 12|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.2
 13|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.2
 14|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.4
 15|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.2
 16|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.5
 17|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.4
 18|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.4
 19|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 0.5
 ```
 
In these results, the model actually reports a higher number of expected matches for a group of size 14 than a group of size 15. This clearly biased result occurs because the random effects of generating birthdays are more prevalent with fewer trials. 
